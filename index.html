<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">

<!-- üî¥ MUY IMPORTANTE PARA CELULAR -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Para Ti ‚ù§Ô∏è</title>

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
}

/* üåå FONDO ANOCHECER CON IMAGEN */
body {
  height: 100vh;
  background:
    linear-gradient(to top, rgba(0,0,0,0.5), rgba(0,0,0,0.2)),
    url("anochecer.jpg") center/cover no-repeat;
  overflow: hidden;
  position: relative;
}

/* ‚≠ê ESTRELLAS */
body::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(1px 1px at 20% 30%, white, transparent),
    radial-gradient(1px 1px at 80% 40%, white, transparent),
    radial-gradient(1px 1px at 50% 20%, white, transparent),
    radial-gradient(1px 1px at 70% 70%, white, transparent),
    radial-gradient(1px 1px at 30% 60%, white, transparent);
  opacity: 0.8;
  pointer-events: none;
}

/* TEXTO */
.mensaje-fondo {
  position: absolute;
  top: 100px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 1.6rem;
  color: white;
  text-shadow: 0 0 10px #ff4d6d;
  z-index: 2;
  text-align: center;
}

/* üíå ICONO */
.emoji-carta {
  font-size: 4rem;
  position: absolute;
  bottom: 60px;
  left: 40px;
  cursor: pointer;
  animation: latido 2s infinite;
  z-index: 2;
}

@keyframes latido {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

/* üì© FONDO OSCURO */
.carta-pantalla {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 5;
}

/* üìú CARTA */
.carta-contenido {
  background: linear-gradient(180deg, #fff0f5, #ffe6eb);
  padding: 28px;
  width: 90%;
  max-width: 420px;
  border-radius: 20px;
  text-align: center;
  color: #8b2c44;
  animation: aparecer 0.6s ease;
}

@keyframes aparecer {
  from { opacity: 0; transform: scale(0.8); }
  to { opacity: 1; transform: scale(1); }
}

/* ‚ù§Ô∏è FUEGOS */
.firework {
  position: absolute;
  font-size: 16px;
  color: #ff4d6d;
  animation: explode 1.8s ease-out forwards;
  pointer-events: none;
}

@keyframes explode {
  from { transform: translate(0,0) scale(0.3); opacity:1; }
  to   { transform: translate(var(--x), var(--y)) scale(1.3); opacity:0; }
}

audio { display:none; }
</style>
</head>

<body>

<audio id="music" loop>
  <source src="Rels B - Te Regalo.mp3" type="audio/mpeg">
</audio>

<div class="mensaje-fondo">Feliz a√±o nuevo vida ‚ù§Ô∏è</div>

<!-- üíå -->
<div class="emoji-carta" onclick="openCarta(event)">üíå</div>

<!-- üì© CARTA -->
<div class="carta-pantalla" id="carta" onclick="closeCarta(event)">
  <div class="carta-contenido" onclick="event.stopPropagation()">
    üåª <strong>Para ti</strong> üåª<br><br>
    Gracias por iluminar mis d√≠as y hacerme tan feliz ‚ù§Ô∏è<br><br>
    Que este nuevo a√±o nos regale m√°s amor,
    m√°s risas y muchos momentos juntos.<br><br>
    ‚ù§Ô∏è <strong>TE AMO INFINITAMENTE</strong> ‚ù§Ô∏è
    <p style="margin-top:20px; font-size:0.8rem; opacity:0.7">
      (Toca fuera para cerrar)
    </p>
  </div>
</div>

<script>
const music = document.getElementById("music");
const carta = document.getElementById("carta");

/* üéµ M√öSICA AL PRIMER TOQUE */
document.body.addEventListener("click", () => {
  if (music.paused) music.play();
}, { once:true });

function openCarta(e) {
  e.stopPropagation(); // üî¥ evita cierre inmediato
  carta.style.display = "flex";
}

function closeCarta(e) {
  if (e.target.id === "carta") {
    carta.style.display = "none";
  }
}

/* ‚ù§Ô∏è FUEGOS AUTOM√ÅTICOS */
setInterval(() => lanzarCorazon(), 650);

function lanzarCorazon() {
  const cx = Math.random() * window.innerWidth * 0.8 + 80;
  const cy = Math.random() * window.innerHeight * 0.4 + 80;

  for (let t = 0; t < Math.PI * 2; t += 0.12) {
    const x = 16 * Math.pow(Math.sin(t), 3);
    const y =
      13 * Math.cos(t) -
      5 * Math.cos(2*t) -
      2 * Math.cos(3*t) -
      Math.cos(4*t);

    const fw = document.createElement("div");
    fw.className = "firework";
    fw.textContent = "‚ù§";
    fw.style.left = cx + "px";
    fw.style.top = cy + "px";
    fw.style.setProperty("--x", x * 7 + "px");
    fw.style.setProperty("--y", -y * 7 + "px");

    document.body.appendChild(fw);
    setTimeout(() => fw.remove(), 1800);
  }
}
</script>

</body>
</html>
